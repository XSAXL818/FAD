# 初始python(第三周)

## 学习任务

1. 练习1：使用双层循环打印九九乘法表。
2. 掌握列表、元组、字典、集合，内置函数range的常用操作。
3. 练习2：计算天数。
4. 练习3：用户登录系统，运行时系统提示输入用户名和密码，系统返回是否登录成功，用列表或字典来保存已有用户的用户名和密码。





## 参考：

### 将鼠标停留在代码上方后，右上侧会出现按钮，点击第二个运行按钮可以查看相关演示结果

1、练习1：

```rust
# fn main() {
#    println!("         
#    ╔══════════════════════════════════════════════╗");
#    println!("    ║            九九乘法表 (1-9)                 ║");
#    println!("     			
#    ╚══════════════════════════════════════════════╝\n");
    for i in 1..=9 {
        print!("    ");
        for j in 1..=i {
            let result = i * j;
            print!("{j}×{i}={result:2}", j = j, i = i, result = result);
        }
        println!(); // 换行
    }
#    println!("\n    ✅ 九九乘法表打印完成！");
# }
```



2、练习2

```rust
# fn is_leap_year(year: i32) -> bool {
#     (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0)
# }
# 
# fn days_in_month(month: u32, year: i32) -> u32 {
#     match month {
#         1 | 3 | 5 | 7 | 8 | 10 | 12 => 31,
#         4 | 6 | 9 | 11 => 30,
#         2 => if is_leap_year(year) { 29 } else { 28 },
#         _ => 0, // 无效月份
#     }
# }
# 
# fn day_of_year(month: u32, day: u32, year: i32) -> Option<u32> {
#     if month < 1 || month > 12 {
#         return None;
#     }
# 
#     let max_day = days_in_month(month, year);
#     if day < 1 || day > max_day {
#         return None;
#     }
# 
#     let mut total_days = day;
#     for m in 1..month {
#         total_days += days_in_month(m, year);
#     }
# 
#     Some(total_days)
# }

# fn main() {
    println!("📅 计算某月某日是这一年的第几天");

    let year = 2025;
    let month =10;
    let day = 19;

    match day_of_year(month, day, year) {
        Some(day_num) => {
            println!("✅ {}年{}月{}日 是这一年的第 {} 天。", year, month, day, day_num);
        }
        None => {
            println!("❌ 输入的日期不合法！");
        }
    }
    
    let year = 2025;
    let month =19;
    let day = 19;

    match day_of_year(month, day, year) {
        Some(day_num) => {
            println!("✅ {}年{}月{}日 是这一年的第 {} 天。", year, month, day, day_num);
        }
        None => {
            println!("❌ 输入的日期不合法！");
        }
    }
# }
```



3、

```rust
# use std::collections::HashMap;
# use std::io;
# 
# fn main() {
#     // ======================
#     // 方式一：使用字典（HashMap）存储用户 - 推荐 ✅
#     // ======================
#     let mut user_db: HashMap<String, String> = HashMap::new();
    // 系统当前存在三个用户
    user_db.insert("admin".to_string(), "123456".to_string());
    user_db.insert("lenovo".to_string(), "password".to_string());
    user_db.insert("xsaxl".to_string(), "qwerty".to_string());
#     println!("🔐 欢迎使用用户登录系统");
#     println!("admin, lenovo, xsaxl");

    // 获取用户输入 , 具体实现时让用户输入，此处写死方便演示
#    println!("请输入用户名: xsaxl");
    let username = "admin";
#    println!("请输入密码: 123456");
    let password = "123456";
    
#     // 去除换行符
#    let username = username.trim();
#    let password = password.trim();

#    // ✅ 使用 HashMap 查找（高效）
    // 登录验证
    if let Some(stored_password) = user_db.get(username) {
        if stored_password == password {
            println!("✅ 登录成功！欢迎回来，{}！", username);
            return;
        }
    }
    // 如果没匹配上
    println!("❌ 登录失败！用户名或密码错误。");
# }
```

